<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Wunderlist by johnRivs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Wunderlist</h1>
      <h2 class="project-tagline">SDK for the latest Wunderlist API version.</h2>
      <a href="https://github.com/johnRivs/wunderlist" class="btn">View on GitHub</a>
      <a href="api-docs/" class="btn">API Docs</a>
      <a href="https://github.com/johnRivs/wunderlist/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/johnRivs/wunderlist/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="use-the-latest-wunderlist-api-version-in-your-apps" class="anchor" href="#use-the-latest-wunderlist-api-version-in-your-apps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use the latest Wunderlist API version in your apps.</h1>

<p><a href="https://packagist.org/packages/johnrivs/wunderlist"><img src="https://poser.pugx.org/johnrivs/wunderlist/v/stable" alt="Latest Stable Version"></a> <a href="https://packagist.org/packages/johnrivs/wunderlist"><img src="https://poser.pugx.org/johnrivs/wunderlist/downloads" alt="Total Downloads"></a> <a href="https://packagist.org/packages/johnrivs/wunderlist"><img src="https://poser.pugx.org/johnrivs/wunderlist/license" alt="License"></a> <a href="#progress"><img src="http://progressed.io/bar/85?title=progress" alt="Endpoint coverage"></a></p>

<ul>
<li>
<a href="#how-to-use">How to use</a>

<ul>
<li><a href="#register-your-app">Register your app</a></li>
<li><a href="#install-the-package">Install the package</a></li>
<li><a href="#build-up-the-client">Build up the client</a></li>
<li><a href="#authorization">Authorization</a></li>
</ul>
</li>
<li>
<a href="#faq">FAQ</a>

<ul>
<li><a href="#what-exactly-is-this-pacakage">What exactly is this pacakage?</a></li>
<li><a href="#how-flexible-is-this-package">How flexible is this package?</a></li>
<li><a href="#what-should-i-expect-from-the-wunderlist-api">What should I expect from the Wunderlist API?</a></li>
<li><a href="#how-does-it-look-like">How does it look like?</a></li>
<li><a href="#how-do-i-provide-data">How do I provide data?</a></li>
<li><a href="#why-do-some-methods-take-more-time-than-others">Why do some methods take more time than others?</a></li>
<li><a href="#why-does-it-say-forbidden-during-authentication">Why does it say Forbidden during authentication?</a></li>
<li><a href="#what-if-something-goes-wrong">What if something goes wrong?</a></li>
</ul>
</li>
<li><a href="#progress">Progress</a></li>
</ul>

<h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use?</h2>

<h5>
<a id="register-your-app" class="anchor" href="#register-your-app" aria-hidden="true"><span class="octicon octicon-link"></span></a>Register your app</h5>

<p>First of all, you need to register your app. To do that, go <a href="https://developer.wunderlist.com/apps">here</a>, log in and click on the blue button that says 'CREATE APP'. Wunderlist will ask you about the name of the app, the description, an icon to represent the app, the URL where it is located and the callback URL for authorization.</p>

<p>If your app is not yet hosted on the Internet, set both the URL fields to <code>http://localhost</code>. You're only going to need a 'real' auth callback url when you need to set up authorization (more about this later).</p>

<h5>
<a id="install-the-package" class="anchor" href="#install-the-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install the package</h5>

<p>This package may be installed through <a href="https://getcomposer.org/download/">Composer</a>:</p>

<pre><code>composer require johnrivs/wunderlist
</code></pre>

<p>If you're using a framework, everything in your <code>vendor</code> directory is most likely autoloaded for you. Otherwise, pull in the file yourself:</p>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">require_once</span> <span class="pl-c1">__DIR__</span><span class="pl-k">.</span><span class="pl-s"><span class="pl-pds">'</span>/path/to/vendor/autoload.php<span class="pl-pds">'</span></span>;</span></pre></div>

<h5>
<a id="build-up-the-client" class="anchor" href="#build-up-the-client" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build up the client</h5>

<p>Go back to <a href="https://developer.wunderlist.com/apps">apps page</a> and copy your app's 'CLIENT ID', 'CLIENT SECRET' and access token, which you can generate by clicking on 'CREATE ACCESS TOKEN':</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-k">&lt;</span>?<span class="pl-c1">php</span> </span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">JohnRivs\Wunderlist\Wunderlist</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$clientId</span>     <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>THE_CLIENT_ID<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$clientSecret</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>THE_CLIENT_SECRET<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"><span class="pl-smi">$accessToken</span>  <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>THE_ACCESS_TOKEN<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$w</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Wunderlist</span>(<span class="pl-smi">$clientId</span>, <span class="pl-smi">$clientSecret</span>, <span class="pl-smi">$accessToken</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$w</span><span class="pl-k">-&gt;</span>getCurrentUser();</span></pre></div>

<blockquote>
  <p>You can optionally pass a boolean as the 4th parameter that decides whether or not the package should throw exceptions when a required parameter is missing. By default, it does.</p>
</blockquote>

<h5>
<a id="authorization" class="anchor" href="#authorization" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authorization</h5>

<p>For some methods (mostly the ones where you need to write, update or delete data), you're going to need a user access token. Up until this point you've only had the app access token, which you can use for yourself.</p>

<p>First, redirect the user to Wunderlist, where they need to grant access to your app. Wunderlist needs 2 things: a random string passed to it and the callback URL. Make sure you temporarily save said random string (in a file or session):</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$state</span> <span class="pl-k">=</span> <span class="pl-c1">md5</span>(<span class="pl-c1">time</span>());</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Store the $state to retrieve it later</span></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Redirect the user to:</span></span>
<span class="pl-s1"><span class="pl-smi">$w</span><span class="pl-k">-&gt;</span>authUrl(<span class="pl-smi">$state</span>, <span class="pl-s"><span class="pl-pds">'</span>http://your-domain.com/auth/callback<span class="pl-pds">'</span></span>)</span></pre></div>

<p><strong>Note: the URL you provide must be the same you set as your <a href="https://developer.wunderlist.com/apps">app</a> auth callback url.</strong></p>

<p>If you're working locally, I recommend using <a href="https://ngrok.com/">ngrok</a>:</p>

<ul>
<li>Spin up an HTTP server. In PHP via terminal <code>php -S localhost:8000</code>
</li>
<li>Create the tunnel: <code>ngrok http localhost:8000</code>. It'll tell you where your website is publicly available, something like <code>http://96d15c39.ngrok.io</code>
</li>
<li>Go to the <a href="https://developer.wunderlist.com/apps">apps page</a> and set the auth callback url to <code>http://96d15c39.ngrok.io/auth/callback</code> or whatever you got.</li>
<li>Use the same URL in your code: <code>$w-&gt;authUrl($state, 'http://96d15c39.ngrok.io/auth/callback')</code>
</li>
</ul>

<p><strong>Ngrok gives you a different URL everytime you create the tunnel, so you'll need to update the auth callback url for your app and the one you provide to <code>authUrl()</code>.</strong></p>

<p>Once the user grants access to your app, he's going to be redirected to the callback URL carrying a <code>code</code> and the <code>state</code>. It would look like <code>http://96d15c39.ngrok.io/auth/callback?code=random_string&amp;state=the_state_from_the_previous_step</code>. Now retrieve the <code>$state</code> from earlier and compare it to <code>$_GET['state']</code>. If they're the same:</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$accessToken</span> <span class="pl-k">=</span> <span class="pl-smi">$w</span><span class="pl-k">-&gt;</span>getAuthToken(<span class="pl-smi">$_GET</span>[<span class="pl-s"><span class="pl-pds">'</span>code<span class="pl-pds">'</span></span>]);</span></pre></div>

<p>And that's the user's access token.</p>

<h2>
<a id="faq" class="anchor" href="#faq" aria-hidden="true"><span class="octicon octicon-link"></span></a>FAQ</h2>

<h5>
<a id="what-exactly-is-this-pacakage" class="anchor" href="#what-exactly-is-this-pacakage" aria-hidden="true"><span class="octicon octicon-link"></span></a>What exactly is this pacakage?</h5>

<p>This package is a wrapper for each endpoint in the Wunderlist API. To know what attributes you need to provide to each method, the data it returns or what status code is set, head over to the <a href="https://developer.wunderlist.com/documentation">official Wunderlist API documentation</a>.</p>

<h5>
<a id="how-flexible-is-this-package" class="anchor" href="#how-flexible-is-this-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>How flexible is this package?</h5>

<p>Since this package doesn't perform validation or sanitization, you can provide any attribute to (almost) every method. However, it'll check if the attributes contain the fields required by the endpoint. If you provide unrecognized attribute fields, they will be ignored. Again, to know what fields should be present in the attributes for a Wunderlist API endpoint, have a look at the <a href="https://developer.wunderlist.com/documentation">official Wunderlist API documentation</a>.</p>

<h5>
<a id="what-should-i-expect-from-the-wunderlist-api" class="anchor" href="#what-should-i-expect-from-the-wunderlist-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>What should I expect from the Wunderlist API?</h5>

<p>Most of the time, the methods will return an array containing the results of what you just did. For example, if you <code>createTask()</code>, it will return the task that was just created. Some methods (such as <code>deleteTask()</code>) will return a status code. You can always use <code>getStatusCode()</code> regardless of what the method returned.</p>

<h5>
<a id="how-does-it-look-like" class="anchor" href="#how-does-it-look-like" aria-hidden="true"><span class="octicon octicon-link"></span></a>How does it look like?</h5>

<p>Almost each method maps to a Wunderlist API endpoint:</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c">// Get all tasks for a given list</span></span>
<span class="pl-s1"><span class="pl-smi">$wunderlist</span><span class="pl-k">-&gt;</span>getTasks([<span class="pl-s"><span class="pl-pds">'</span>list_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">9876</span>]);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Get all lists</span></span>
<span class="pl-s1"><span class="pl-smi">$wunderlist</span><span class="pl-k">-&gt;</span>getLists();</span></pre></div>

<h5>
<a id="how-do-i-provide-data" class="anchor" href="#how-do-i-provide-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>How do I provide data?</h5>

<p>For most methods you'll need to provide an array of attributes, however, for certain ones you'll need to supply some value(s). Check the <a href="http://johnrivs.github.io/wunderlist/api-docs/index.html">API Docs</a> out to know what each method expects.</p>

<h5>
<a id="why-do-some-methods-take-more-time-than-others" class="anchor" href="#why-do-some-methods-take-more-time-than-others" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why do some methods take more time than others?</h5>

<p>Due to the nature of the service, Wunderlist requires to keep everything in sync by providing the entity's <a href="https://developer.wunderlist.com/documentation/concepts/revisions">revision</a>. To achieve this, methods responsible for updating entities (such as tasks, lists...) will fetch the entity first and then perform a request to apply the changes.</p>

<h5>
<a id="why-does-it-say-forbidden-during-authentication" class="anchor" href="#why-does-it-say-forbidden-during-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why does it say <code>Forbidden</code> during authentication?</h5>

<p>Make sure the auth callback URL you provide to <code>authUrl()</code> matches the one you have for your <a href="https://developer.wunderlist.com/apps">app</a>.</p>

<h5>
<a id="what-if-something-goes-wrong" class="anchor" href="#what-if-something-goes-wrong" aria-hidden="true"><span class="octicon octicon-link"></span></a>What if something goes wrong?</h5>

<p>Well.. at the time of this writing, the Wunderlist API isn't too helpful when it comes to error messages, so make sure you stick to the docs, use <code>getStatusCode()</code> and ask any questions in the docs comment section.</p>

<h4>
<a id="progress" class="anchor" href="#progress" aria-hidden="true"><span class="octicon octicon-link"></span></a>Progress</h4>

<ul>
<li>Folder

<ul>
<li><del>Get all folders</del></li>
<li><del>Get a folder</del></li>
<li>Create a folder</li>
<li>Update a folder</li>
<li>Delete a folder</li>
<li><del>Get folder revisions</del></li>
</ul>
</li>
<li>Reminder

<ul>
<li><del>Get all reminders</del></li>
<li>Create a reminder</li>
<li>Update a reminder</li>
<li>Delete a reminder</li>
</ul>
</li>
<li>Some other endpoints (not started)</li>
<li>Laravel integration</li>
<li>Silex integration</li>
</ul>

<p>Finished:</p>

<ul>
<li>Authorization</li>
<li>Avatar</li>
<li>Lists</li>
<li>Note</li>
<li>Subtask</li>
<li>Task</li>
<li>Comment</li>
<li>User (except restricting the list of users a user can access by list)</li>
<li>Webhook</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/johnRivs/wunderlist">Wunderlist</a> is maintained by <a href="https://github.com/johnRivs">johnRivs</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>


  </body>
</html>

